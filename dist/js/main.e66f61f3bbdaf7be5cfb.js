!function(){"use strict";var t={91:function(t){t.exports=function(t,i){return i||(i={}),t?(t=String(t.__esModule?t.default:t),i.hash&&(t+=i.hash),i.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(t)?'"'.concat(t,'"'):t):t}},422:function(t,i,e){t.exports=e.p+"./assets/wasted.png"},244:function(t,i,e){t.exports=e.p+"./assets/favicon.ico"}},i={};function e(n){var r=i[n];if(void 0!==r)return r.exports;var o=i[n]={exports:{}};return t[n](o,o.exports,e),o.exports}e.m=t,e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,{a:i}),i},e.d=function(t,i){for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},function(){var t;e.g.importScripts&&(t=e.g.location+"");var i=e.g.document;if(!t&&i&&(i.currentScript&&(t=i.currentScript.src),!t)){var n=i.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t+"../"}(),e.b=document.baseURI||self.location.href,function(){var t=e(91),i=e.n(t),n=new URL(e(244),e.b),r=new URL(e(422),e.b),o=(i()(n),i()(r),e.p+"./assets/player.png");function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,i){if("object"!==s(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===s(r)?r:String(r)),n)}var r}var h=["ArrowUp","KeyW"],c=["ArrowDown","KeyS"],u=["ArrowLeft","KeyA"],l=["ArrowRight","KeyD"],y=[].concat(h,c,u,l),m=function(){function t(i,e,n,r){var s=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.velocity=3,this.radius=15,this.x=i,this.y=e,this.context=n,this.cursorPosition={x:0,y:0},this.movementLimits={minX:r.minX+this.radius,maxX:r.maxX-this.radius,minY:r.minY+this.radius,maxY:r.maxY-this.radius},document.addEventListener("mousemove",(function(t){s.cursorPosition.x=t.clientX,s.cursorPosition.y=t.clientY})),this.keyMap=new Map,document.addEventListener("keydown",(function(t){return s.keyMap.set(t.code,!0)})),document.addEventListener("keyup",(function(t){return s.keyMap.delete(t.code)})),this.image=new Image,this.image.src=o,this.imageWidth=50,this.imageHeight=60,this.isMoving=!1,this.imageTick=0}var i,e;return i=t,(e=[{key:"drawImg",value:function(){var t;this.isMoving?(t=this.imageTick>18?2*this.imageWidth:this.imageWidth,this.imageTick++):(t=0,this.imageTick=0),this.imageTick>36&&(this.imageTick=0),this.context.drawImage(this.image,t,0,this.imageWidth,this.imageHeight,this.x-this.imageWidth/2,this.y-this.imageHeight/2,this.imageWidth,this.imageHeight)}},{key:"draw",value:function(){this.context.save();var t=Math.atan2(this.cursorPosition.y-this.y,this.cursorPosition.x-this.x);this.context.translate(this.x,this.y),this.context.rotate(t+Math.PI/2),this.context.translate(-this.x,-this.y),this.drawImg(),this.context.restore()}},{key:"update",value:function(){this.draw(),this.isMoving=this.shouldMove(y),this.updatePosition(),this.checkPositionLimitAndUpdate()}},{key:"updatePosition",value:function(){this.shouldMove(h)&&(this.y-=this.velocity),this.shouldMove(c)&&(this.y+=this.velocity),this.shouldMove(u)&&(this.x-=this.velocity),this.shouldMove(l)&&(this.x+=this.velocity)}},{key:"checkPositionLimitAndUpdate",value:function(){this.y<this.movementLimits.minY&&(this.y=this.movementLimits.minY),this.y>this.movementLimits.maxY&&(this.y=this.movementLimits.maxY),this.x<this.movementLimits.minX&&(this.x=this.movementLimits.minX),this.x>this.movementLimits.maxX&&(this.x=this.movementLimits.maxX)}},{key:"shouldMove",value:function(t){var i=this;return t.some((function(t){return i.keyMap.get(t)}))}}])&&a(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),t}();function f(t,i,e,n){return(t-e)/v(t,i,e,n)}function d(t,i,e,n){return(i-n)/v(t,i,e,n)}function v(t,i,e,n){var r=t-e,o=i-n;return Math.hypot(r,o)}function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function g(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,i){if("object"!==p(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===p(r)?r:String(r)),n)}var r}var x=function(){function t(i,e,n,r,o){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=i,this.y=e,this.context=o,this.radius=3,this.color="#810000",this.velocity={x:15*f(n,r,i,e),y:15*d(n,r,i,e)}}var i,e;return i=t,(e=[{key:"draw",value:function(){this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI),this.context.fillStyle=this.color,this.context.fill()}},{key:"update",value:function(){this.draw(),this.x+=this.velocity.x,this.y+=this.velocity.y}}])&&g(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),t}(),b=e.p+"./assets/enemy_1.png",w=e.p+"./assets/enemy_2.png";function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function k(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,i){if("object"!==S(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===S(r)?r:String(r)),n)}var r}var M=function(){function t(i,e,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=i,this.y=e,this.context=n,this.radius=Math.random()+2,this.color="#920101",this.velocity={x:(Math.random()-.5)*Math.random()*5,y:(Math.random()-.5)*Math.random()*5},this.alpha=1,this.friction=.99}var i,e;return i=t,(e=[{key:"draw",value:function(){this.context.save(),this.context.globalAlpha=this.alpha,this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI),this.context.fillStyle=this.color,this.context.fill(),this.context.restore()}},{key:"update",value:function(){this.draw(),this.velocity.x*=this.friction,this.velocity.y*=this.friction,this.x+=this.velocity.x,this.y+=this.velocity.y,this.alpha-=.04}}])&&k(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),t}();function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function T(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,i){if("object"!==P(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===P(r)?r:String(r)),n)}var r}var E=function(){function t(i,e,n,r){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=n,this.player=r,this.radius=15;var o=Math.random()>.8?2:1;this.health=o,Math.random()<.5?(this.x=Math.random()<.5?0-this.radius:i+this.radius,this.y=Math.random()*e):(this.x=Math.random()*i,this.y=Math.random()<.5?0-this.radius:e+this.radius),this.image=new Image,this.image.src=1===o?b:w,this.imageWidth=50,this.imageHeight=60,this.imageTick=0}var i,e;return i=t,e=[{key:"drawImg",value:function(){var t=this.imageTick>18?this.imageWidth:0;this.imageTick++,this.imageTick>36&&(this.imageTick=0),this.context.drawImage(this.image,t,0,this.imageWidth,this.imageHeight,this.x-this.imageWidth/2,this.y-this.imageHeight/2,this.imageWidth,this.imageHeight)}},{key:"draw",value:function(){this.context.save();var t=Math.atan2(this.player.y-this.y,this.player.x-this.x);this.context.translate(this.x,this.y),this.context.rotate(t+Math.PI/2),this.context.translate(-this.x,-this.y),this.drawImg(),this.context.restore()}},{key:"update",value:function(){this.draw(),this.velocity={x:2*f(this.player.x,this.player.y,this.x,this.y),y:2*d(this.player.x,this.player.y,this.x,this.y)},this.x+=this.velocity.x,this.y+=this.velocity.y}},{key:"createExplosion",value:function(t){for(var i=0;i<50;i++)t.push(new M(this.x,this.y,this.context))}}],e&&T(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),t}(),j=document.querySelector("canvas"),L=j.getContext("2d");j.width=document.documentElement.clientWidth,j.height=document.documentElement.clientHeight;var I,W,X,Y,A,O,H=document.querySelector(".wasted"),U=document.querySelector("#score"),_=[],C=[],R=[],q=0;function K(t){for(var i=0;i<t;i++)C.push(new E(j.width,j.height,L,I))}function F(t){return t.x+t.radius>0&&t.x-t.radius<j.width&&t.y+t.radius>0&&t.y-t.radius<j.height}function $(t){return v(I.x,I.y,t.x,t.y)-t.radius-I.radius<0}A={minX:0,maxX:j.width,minY:0,maxY:j.height},I=new m(j.width/2,j.height/2,L,A),addEventListener("click",(function(t){_.push(new x(I.x,I.y,t.clientX,t.clientY,L))})),function t(){W=requestAnimationFrame(t),L.clearRect(0,0,j.width,j.height),R=R.filter((function(t){return t.alpha>0})),_=_.filter(F),C.forEach((function(t){return function(t){_.some((function(i,e){return!(v(i.x,i.y,t.x,t.y)-t.radius-i.radius>0||(function(t){_.splice(t,1)}(e),t.health--,t.health<1&&(q+=250,U.innerHTML=q,t.createExplosion(R)),0))}))}(t)})),(C=C.filter((function(t){return t.health>0}))).some($)&&(H.style.display="block",clearInterval(Y),clearInterval(X),cancelAnimationFrame(W)),R.forEach((function(t){return t.update()})),_.forEach((function(t){return t.update()})),I.update(),C.forEach((function(t){return t.update()}))}(),O=1,Y=setInterval((function(){return O++}),3e4),X=setInterval((function(){return K(O)}),1500),K(O)}()}();